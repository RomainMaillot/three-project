{"id":"../node_modules/postprocessing/src/effects/PixelationEffect.js","dependencies":[{"name":"/Applications/Cours/H2/dev/three-project/package.json","includedInParent":true,"mtime":1548164082730},{"name":"/Applications/Cours/H2/dev/three-project/node_modules/postprocessing/package.json","includedInParent":true,"mtime":1548164412950},{"name":"three","loc":{"line":1,"column":33},"parent":"/Applications/Cours/H2/dev/three-project/node_modules/postprocessing/src/effects/PixelationEffect.js","resolved":"/Applications/Cours/H2/dev/three-project/node_modules/three/build/three.module.js"},{"name":"./Effect.js","loc":{"line":2,"column":23},"parent":"/Applications/Cours/H2/dev/three-project/node_modules/postprocessing/src/effects/PixelationEffect.js","resolved":"/Applications/Cours/H2/dev/three-project/node_modules/postprocessing/src/effects/Effect.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PixelationEffect = void 0;\n\nvar _three = require(\"three\");\n\nvar _Effect = require(\"./Effect.js\");\n\nconst fragment = \"uniform bool active;\\r\\nuniform vec2 d;\\r\\n\\r\\nvoid mainUv(inout vec2 uv) {\\r\\n\\r\\n\\tif(active) {\\r\\n\\r\\n\\t\\tuv = vec2(\\r\\n\\t\\t\\td.x * (floor(uv.x / d.x) + 0.5),\\r\\n\\t\\t\\td.y * (floor(uv.y / d.y) + 0.5)\\r\\n\\t\\t);\\r\\n\\r\\n\\t}\\r\\n\\r\\n}\\r\\n\";\n/**\r\n * A pixelation effect.\r\n *\r\n * Warning: This effect cannot be merged with convolution effects.\r\n */\n\nclass PixelationEffect extends _Effect.Effect {\n  /**\r\n   * Constructs a new pixelation effect.\r\n   *\r\n   * @param {Object} [granularity=30.0] - The pixel granularity.\r\n   */\n  constructor(granularity = 30.0) {\n    super(\"PixelationEffect\", fragment, {\n      uniforms: new Map([[\"active\", new _three.Uniform(false)], [\"d\", new _three.Uniform(new _three.Vector2())]])\n    });\n    /**\r\n     * The original resolution.\r\n     *\r\n     * @type {Vector2}\r\n     * @private\r\n     */\n\n    this.resolution = new _three.Vector2();\n    /**\r\n     * The pixel granularity.\r\n     *\r\n     * @type {Number}\r\n     * @private\r\n     */\n\n    this.granularity = granularity;\n  }\n  /**\r\n   * Returns the pixel granularity.\r\n   *\r\n   * @return {Number} The granularity.\r\n   */\n\n\n  getGranularity() {\n    return this.granularity;\n  }\n  /**\r\n   * Sets the pixel granularity.\r\n   *\r\n   * A higher value yields coarser visuals.\r\n   *\r\n   * @param {Number} granularity - The new granularity.\r\n   */\n\n\n  setGranularity(granularity) {\n    granularity = Math.floor(granularity);\n\n    if (granularity % 2 > 0) {\n      granularity += 1;\n    }\n\n    const uniforms = this.uniforms;\n    uniforms.get(\"active\").value = granularity > 0.0;\n    uniforms.get(\"d\").value.set(granularity, granularity).divide(this.resolution);\n    this.granularity = granularity;\n  }\n  /**\r\n   * Updates the granularity.\r\n   *\r\n   * @param {Number} width - The width.\r\n   * @param {Number} height - The height.\r\n   */\n\n\n  setSize(width, height) {\n    this.resolution.set(width, height);\n    this.setGranularity(this.granularity);\n  }\n\n}\n\nexports.PixelationEffect = PixelationEffect;","map":{"mappings":[{"generated":{"line":8,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":2,"column":0}},{"generated":{"line":12,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":4,"column":0}},{"name":"fragment","generated":{"line":12,"column":6},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":4,"column":6}},{"generated":{"line":12,"column":14},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":4,"column":14}},{"generated":{"line":12,"column":17},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":4,"column":17}},{"generated":{"line":12,"column":255},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":4,"column":0}},{"generated":{"line":13,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":6,"column":0}},{"generated":{"line":19,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":12,"column":7}},{"name":"PixelationEffect","generated":{"line":19,"column":6},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":12,"column":13}},{"generated":{"line":19,"column":22},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":12,"column":7}},{"name":"Effect","generated":{"line":19,"column":31},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":12,"column":38}},{"generated":{"line":19,"column":45},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":12,"column":7}},{"generated":{"line":19,"column":46},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":12,"column":45}},{"generated":{"line":20,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":14,"column":1}},{"name":"constructor","generated":{"line":25,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":20,"column":1}},{"name":"constructor","generated":{"line":25,"column":2},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":20,"column":1}},{"generated":{"line":25,"column":13},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":20,"column":12}},{"name":"granularity","generated":{"line":25,"column":14},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":20,"column":13}},{"generated":{"line":25,"column":25},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":20,"column":24}},{"generated":{"line":25,"column":28},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":20,"column":27}},{"generated":{"line":25,"column":32},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":20,"column":12}},{"generated":{"line":25,"column":34},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":20,"column":33}},{"generated":{"line":26,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":22,"column":2}},{"generated":{"line":26,"column":10},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":22,"column":8}},{"generated":{"line":26,"column":28},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":22,"column":2}},{"name":"fragment","generated":{"line":26,"column":30},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":22,"column":28}},{"generated":{"line":26,"column":38},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":22,"column":2}},{"generated":{"line":26,"column":40},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":22,"column":38}},{"name":"uniforms","generated":{"line":27,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":24,"column":3}},{"name":"uniforms","generated":{"line":27,"column":6},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":24,"column":3}},{"generated":{"line":27,"column":14},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":24,"column":11}},{"generated":{"line":27,"column":16},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":24,"column":13}},{"name":"Map","generated":{"line":27,"column":20},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":24,"column":17}},{"generated":{"line":27,"column":23},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":24,"column":13}},{"generated":{"line":27,"column":24},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":24,"column":21}},{"generated":{"line":27,"column":25},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":25,"column":4}},{"generated":{"line":27,"column":26},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":25,"column":5}},{"generated":{"line":27,"column":34},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":25,"column":4}},{"generated":{"line":27,"column":36},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":25,"column":15}},{"name":"Uniform","generated":{"line":27,"column":40},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":25,"column":19}},{"generated":{"line":27,"column":54},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":25,"column":15}},{"generated":{"line":27,"column":55},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":25,"column":27}},{"generated":{"line":27,"column":60},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":25,"column":15}},{"generated":{"line":27,"column":61},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":25,"column":4}},{"generated":{"line":27,"column":62},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":24,"column":21}},{"generated":{"line":27,"column":64},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":4}},{"generated":{"line":27,"column":65},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":5}},{"generated":{"line":27,"column":68},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":4}},{"generated":{"line":27,"column":70},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":10}},{"name":"Uniform","generated":{"line":27,"column":74},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":14}},{"generated":{"line":27,"column":88},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":10}},{"generated":{"line":27,"column":89},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":22}},{"name":"Vector2","generated":{"line":27,"column":93},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":26}},{"generated":{"line":27,"column":107},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":22}},{"generated":{"line":27,"column":109},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":10}},{"generated":{"line":27,"column":110},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":26,"column":4}},{"generated":{"line":27,"column":111},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":24,"column":21}},{"generated":{"line":27,"column":112},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":24,"column":13}},{"generated":{"line":28,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":22,"column":38}},{"generated":{"line":28,"column":5},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":22,"column":2}},{"generated":{"line":29,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":31,"column":2}},{"generated":{"line":36,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":38,"column":2}},{"name":"resolution","generated":{"line":36,"column":9},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":38,"column":7}},{"generated":{"line":36,"column":19},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":38,"column":2}},{"generated":{"line":36,"column":22},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":38,"column":20}},{"name":"Vector2","generated":{"line":36,"column":26},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":38,"column":24}},{"generated":{"line":36,"column":40},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":38,"column":20}},{"generated":{"line":36,"column":42},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":38,"column":2}},{"generated":{"line":37,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":40,"column":2}},{"generated":{"line":44,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":47,"column":2}},{"name":"granularity","generated":{"line":44,"column":9},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":47,"column":7}},{"generated":{"line":44,"column":20},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":47,"column":2}},{"name":"granularity","generated":{"line":44,"column":23},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":47,"column":21}},{"generated":{"line":44,"column":34},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":47,"column":2}},{"generated":{"line":45,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":49,"column":2}},{"generated":{"line":46,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":51,"column":1}},{"name":"getGranularity","generated":{"line":53,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":57,"column":1}},{"name":"getGranularity","generated":{"line":53,"column":2},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":57,"column":1}},{"generated":{"line":53,"column":16},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":57,"column":15}},{"generated":{"line":53,"column":19},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":57,"column":18}},{"generated":{"line":54,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":59,"column":2}},{"generated":{"line":54,"column":11},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":59,"column":9}},{"name":"granularity","generated":{"line":54,"column":16},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":59,"column":14}},{"generated":{"line":54,"column":27},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":59,"column":2}},{"generated":{"line":55,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":61,"column":2}},{"generated":{"line":56,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":63,"column":1}},{"name":"setGranularity","generated":{"line":65,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":71,"column":1}},{"name":"setGranularity","generated":{"line":65,"column":2},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":71,"column":1}},{"generated":{"line":65,"column":16},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":71,"column":15}},{"name":"granularity","generated":{"line":65,"column":17},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":71,"column":16}},{"generated":{"line":65,"column":28},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":71,"column":15}},{"generated":{"line":65,"column":30},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":71,"column":29}},{"name":"granularity","generated":{"line":66,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":73,"column":2}},{"name":"granularity","generated":{"line":66,"column":4},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":73,"column":2}},{"generated":{"line":66,"column":15},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":73,"column":13}},{"name":"Math","generated":{"line":66,"column":18},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":73,"column":16}},{"generated":{"line":66,"column":22},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":73,"column":20}},{"name":"floor","generated":{"line":66,"column":23},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":73,"column":21}},{"generated":{"line":66,"column":28},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":73,"column":16}},{"name":"granularity","generated":{"line":66,"column":29},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":73,"column":27}},{"generated":{"line":66,"column":40},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":73,"column":16}},{"generated":{"line":66,"column":41},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":73,"column":2}},{"generated":{"line":68,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":75,"column":2}},{"name":"granularity","generated":{"line":68,"column":8},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":75,"column":5}},{"generated":{"line":68,"column":19},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":75,"column":16}},{"generated":{"line":68,"column":22},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":75,"column":19}},{"generated":{"line":68,"column":23},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":75,"column":5}},{"generated":{"line":68,"column":26},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":75,"column":23}},{"generated":{"line":68,"column":27},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":75,"column":2}},{"generated":{"line":68,"column":29},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":75,"column":26}},{"name":"granularity","generated":{"line":69,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":77,"column":3}},{"name":"granularity","generated":{"line":69,"column":6},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":77,"column":3}},{"generated":{"line":69,"column":17},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":77,"column":14}},{"generated":{"line":69,"column":21},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":77,"column":18}},{"generated":{"line":69,"column":22},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":77,"column":3}},{"generated":{"line":70,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":79,"column":3}},{"generated":{"line":72,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":81,"column":2}},{"name":"uniforms","generated":{"line":72,"column":10},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":81,"column":8}},{"generated":{"line":72,"column":18},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":81,"column":16}},{"generated":{"line":72,"column":21},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":81,"column":19}},{"name":"uniforms","generated":{"line":72,"column":26},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":81,"column":24}},{"generated":{"line":72,"column":34},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":81,"column":2}},{"name":"uniforms","generated":{"line":73,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":2}},{"name":"uniforms","generated":{"line":73,"column":4},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":2}},{"generated":{"line":73,"column":12},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":10}},{"name":"get","generated":{"line":73,"column":13},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":11}},{"generated":{"line":73,"column":16},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":2}},{"generated":{"line":73,"column":17},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":15}},{"generated":{"line":73,"column":25},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":2}},{"name":"value","generated":{"line":73,"column":27},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":25}},{"generated":{"line":73,"column":32},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":2}},{"name":"granularity","generated":{"line":73,"column":35},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":34}},{"generated":{"line":73,"column":46},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":45}},{"generated":{"line":73,"column":49},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":48}},{"generated":{"line":73,"column":52},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":82,"column":2}},{"name":"uniforms","generated":{"line":74,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":2}},{"name":"uniforms","generated":{"line":74,"column":4},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":2}},{"generated":{"line":74,"column":12},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":10}},{"name":"get","generated":{"line":74,"column":13},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":11}},{"generated":{"line":74,"column":16},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":2}},{"generated":{"line":74,"column":17},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":15}},{"generated":{"line":74,"column":20},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":2}},{"name":"value","generated":{"line":74,"column":22},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":20}},{"generated":{"line":74,"column":27},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":2}},{"name":"set","generated":{"line":74,"column":28},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":26}},{"generated":{"line":74,"column":31},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":2}},{"name":"granularity","generated":{"line":74,"column":32},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":30}},{"generated":{"line":74,"column":43},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":2}},{"name":"granularity","generated":{"line":74,"column":45},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":43}},{"generated":{"line":74,"column":56},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":2}},{"name":"divide","generated":{"line":74,"column":58},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":84,"column":4}},{"generated":{"line":74,"column":64},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":2}},{"generated":{"line":74,"column":65},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":84,"column":11}},{"name":"resolution","generated":{"line":74,"column":70},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":84,"column":16}},{"generated":{"line":74,"column":80},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":83,"column":2}},{"generated":{"line":75,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":86,"column":2}},{"name":"granularity","generated":{"line":75,"column":9},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":86,"column":7}},{"generated":{"line":75,"column":20},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":86,"column":2}},{"name":"granularity","generated":{"line":75,"column":23},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":86,"column":21}},{"generated":{"line":75,"column":34},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":86,"column":2}},{"generated":{"line":76,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":88,"column":2}},{"generated":{"line":77,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":90,"column":1}},{"name":"setSize","generated":{"line":85,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":97,"column":1}},{"name":"setSize","generated":{"line":85,"column":2},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":97,"column":1}},{"generated":{"line":85,"column":9},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":97,"column":8}},{"name":"width","generated":{"line":85,"column":10},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":97,"column":9}},{"generated":{"line":85,"column":15},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":97,"column":8}},{"name":"height","generated":{"line":85,"column":17},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":97,"column":16}},{"generated":{"line":85,"column":23},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":97,"column":8}},{"generated":{"line":85,"column":25},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":97,"column":24}},{"generated":{"line":86,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":99,"column":2}},{"name":"resolution","generated":{"line":86,"column":9},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":99,"column":7}},{"generated":{"line":86,"column":19},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":99,"column":2}},{"name":"set","generated":{"line":86,"column":20},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":99,"column":18}},{"generated":{"line":86,"column":23},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":99,"column":2}},{"name":"width","generated":{"line":86,"column":24},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":99,"column":22}},{"generated":{"line":86,"column":29},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":99,"column":2}},{"name":"height","generated":{"line":86,"column":31},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":99,"column":29}},{"generated":{"line":86,"column":37},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":99,"column":2}},{"generated":{"line":87,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":100,"column":2}},{"name":"setGranularity","generated":{"line":87,"column":9},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":100,"column":7}},{"generated":{"line":87,"column":23},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":100,"column":2}},{"generated":{"line":87,"column":24},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":100,"column":22}},{"name":"granularity","generated":{"line":87,"column":29},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":100,"column":27}},{"generated":{"line":87,"column":40},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":100,"column":2}},{"generated":{"line":88,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":102,"column":2}},{"generated":{"line":90,"column":0},"source":"../node_modules/postprocessing/src/effects/PixelationEffect.js","original":{"line":12,"column":45}}],"sources":{"../node_modules/postprocessing/src/effects/PixelationEffect.js":"import { Uniform, Vector2 } from \"three\";\r\nimport { Effect } from \"./Effect.js\";\r\n\r\nconst fragment = \"uniform bool active;\\r\\nuniform vec2 d;\\r\\n\\r\\nvoid mainUv(inout vec2 uv) {\\r\\n\\r\\n\\tif(active) {\\r\\n\\r\\n\\t\\tuv = vec2(\\r\\n\\t\\t\\td.x * (floor(uv.x / d.x) + 0.5),\\r\\n\\t\\t\\td.y * (floor(uv.y / d.y) + 0.5)\\r\\n\\t\\t);\\r\\n\\r\\n\\t}\\r\\n\\r\\n}\\r\\n\";\r\n\r\n/**\r\n * A pixelation effect.\r\n *\r\n * Warning: This effect cannot be merged with convolution effects.\r\n */\r\n\r\nexport class PixelationEffect extends Effect {\r\n\r\n\t/**\r\n\t * Constructs a new pixelation effect.\r\n\t *\r\n\t * @param {Object} [granularity=30.0] - The pixel granularity.\r\n\t */\r\n\r\n\tconstructor(granularity = 30.0) {\r\n\r\n\t\tsuper(\"PixelationEffect\", fragment, {\r\n\r\n\t\t\tuniforms: new Map([\r\n\t\t\t\t[\"active\", new Uniform(false)],\r\n\t\t\t\t[\"d\", new Uniform(new Vector2())]\r\n\t\t\t])\r\n\r\n\t\t});\r\n\r\n\t\t/**\r\n\t\t * The original resolution.\r\n\t\t *\r\n\t\t * @type {Vector2}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.resolution = new Vector2();\r\n\r\n\t\t/**\r\n\t\t * The pixel granularity.\r\n\t\t *\r\n\t\t * @type {Number}\r\n\t\t * @private\r\n\t\t */\r\n\r\n\t\tthis.granularity = granularity;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the pixel granularity.\r\n\t *\r\n\t * @return {Number} The granularity.\r\n\t */\r\n\r\n\tgetGranularity() {\r\n\r\n\t\treturn this.granularity;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the pixel granularity.\r\n\t *\r\n\t * A higher value yields coarser visuals.\r\n\t *\r\n\t * @param {Number} granularity - The new granularity.\r\n\t */\r\n\r\n\tsetGranularity(granularity) {\r\n\r\n\t\tgranularity = Math.floor(granularity);\r\n\r\n\t\tif(granularity % 2 > 0) {\r\n\r\n\t\t\tgranularity += 1;\r\n\r\n\t\t}\r\n\r\n\t\tconst uniforms = this.uniforms;\r\n\t\tuniforms.get(\"active\").value = (granularity > 0.0);\r\n\t\tuniforms.get(\"d\").value.set(granularity, granularity)\r\n\t\t\t.divide(this.resolution);\r\n\r\n\t\tthis.granularity = granularity;\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * Updates the granularity.\r\n\t *\r\n\t * @param {Number} width - The width.\r\n\t * @param {Number} height - The height.\r\n\t */\r\n\r\n\tsetSize(width, height) {\r\n\r\n\t\tthis.resolution.set(width, height);\r\n\t\tthis.setGranularity(this.granularity);\r\n\r\n\t}\r\n\r\n}\r\n"},"lineCount":null}},"hash":"d95149824f6b9d41c8b1f0584076d8a9","cacheData":{"env":{}}}